# üìà BondTrack

**BondTrack** ‚Äî —ç—Ç–æ android Kivy-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π –∏ –æ–∂–∏–¥–∞–µ–º–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º, –ø—Ä–∏–æ–±—Ä–µ—Ç—ë–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å API –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏ (MOEX ISS), –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±–ª–∏–≥–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é –∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å, –≤–∫–ª—é—á–∞—è **–º–µ—Å—è—á–Ω—É—é**, **–≥–æ–¥–æ–≤—É—é** –∏ **–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é (YTM)**.

---

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üì• –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±–ª–∏–≥–∞—Ü–∏–π –ø–æ —Ç–∏–∫–µ—Ä—É –∏ –¥–∞—Ç–µ –ø–æ–∫—É–ø–∫–∏
* üîé –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—É–ø–æ–Ω–µ, –ù–ö–î, –Ω–æ–º–∏–Ω–∞–ª–µ, –¥–∞—Ç–µ –ø–æ–≥–∞—à–µ–Ω–∏—è –∏ –¥—Ä.
* üìä –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞—Å—á—ë—Ç:

  * –ú–µ—Å—è—á–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞
  * –ì–æ–¥–æ–≤–æ–≥–æ –¥–æ—Ö–æ–¥–∞
  * –î–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é (YTM)
* üìÉ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∏—è
* üíæ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
* üé® –ü—Ä–æ—Å—Ç–æ–π –∏ –ø—Ä–∏—è—Ç–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Kivy

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
main.py          # –ì–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
bonds.json       # –õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è)
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —É —Ç–µ–±—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.8 –∏–ª–∏ –Ω–æ–≤–µ–µ.

```bash
pip install kivy requests
```

### üîπ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
python main.py
```

---

## üìö –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Kivy** ‚Äî –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π GUI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ Python
* **requests** ‚Äî –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API MOEX ISS
* **xml.etree.ElementTree** ‚Äî –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ XML-–æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç MOEX
* **json** ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
* **datetime** ‚Äî –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å—Ä–æ–∫–æ–≤ –¥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è –æ–±–ª–∏–≥–∞—Ü–∏–π

---

## üî¨ –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üì° –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å MOEX

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç —Ç—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ [MOEX ISS API](https://iss.moex.com/iss/reference/):

1. **BOARDID** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ—Ä–≥–æ–≤—ã–π —Ä–µ–∂–∏–º –æ–±–ª–∏–≥–∞—Ü–∏–∏ (TQOB, TQCB –∏ —Ç.–¥.)
2. **securities** ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –∫—É–ø–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –¥–∞—Ç—É –ø–æ–≥–∞—à–µ–Ω–∏—è –∏ —Ç.–¥.
3. **marketdata** ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é —Ä—ã–Ω–æ—á–Ω—É—é —Ü–µ–Ω—É (LAST)

### üßÆ –†–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

#### –ú–µ—Å—è—á–Ω—ã–π –∏ –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥:

```python
annual_income = coupon_value or facevalue * coupon_percent / 100
monthly_income = annual_income / 12
```

#### –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é (YTM):

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:

```python
YTM = (coupon + (facevalue - price) / years_to_maturity) / avg(facevalue, price)
```

---

## üíæ –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±–ª–∏–≥–∞—Ü–∏–π

–ö–∞–∂–¥–∞—è –æ–±–ª–∏–≥–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `bonds.json` –≤ –≤–∏–¥–µ:

```json
{
  "ticker": "RU000A105FZ5",
  "purchase_price": 95.4,
  "purchase_date": "2025-06-01",
  "quantity": 10,
  "shortname": "–û–§–ó 26240",
  "coupon_percent": 10.2,
  "coupon_value": 102.0,
  "accrued_interest": 3.5,
  "facevalue": 1000.0,
  "matdate": "2030-12-17",
  "monthly_income": 85.0,
  "annual_income": 1020.0,
  "ytm": 11.5
}
```

---

## üßº –û—á–∏—Å—Ç–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–£–¥–∞–ª–µ–Ω–∏–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —Å–æ—á–µ—Ç–∞–Ω–∏—é `ticker + –¥–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏`, —á—Ç–æ–±—ã —É—á–µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏ –æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ —Ä–∞–∑–Ω—ã–µ –¥–∞—Ç—ã –∏ –ø–æ —Ä–∞–∑–Ω—ã–º —Ü–µ–Ω–∞–º.

---

## üìå –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (TODO)

* üîÑ –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —Å –±—Ä–æ–∫–µ—Ä—Å–∫–æ–≥–æ —Å—á—ë—Ç–∞ —á–µ—Ä–µ–∑ Tinkoff Invest API
* ‚òÅÔ∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –æ–±–ª–∞–∫–æ–º –∏–ª–∏ GitHub Gist
* üìÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –±–ª–∏–∂–∞–π—à–∏—Ö –∫—É–ø–æ–Ω–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç–∞—Ö –∏ –ø–æ–≥–∞—à–µ–Ω–∏–∏
* üì± –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–¥ Android/iOS (—á–µ—Ä–µ–∑ Buildozer)
* üìà –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–ú–∞–∫—Å–∏–º –ß–∏–±–æ—Ç–∞—Ä—å**
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –ª–∏—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ –∫–æ–ª–ª–µ–¥–∂–∞, –∏–∑—É—á–∞—é—â–µ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ü–û –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE`.
